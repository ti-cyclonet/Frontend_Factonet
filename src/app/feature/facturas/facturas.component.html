<div class="floating-container">
  <div class="outer-container">
    <!-- Cuadro 1: Título -->
    <div class="inner-container" id="cuadro1">
      <div class="d-flex justify-content-between align-items-start w-100">
        <h2 class="card-title mb-0">Lista de Facturas</h2>
        <div class="generate-button-container">
          <button class="generate-button" (click)="sweepInvoices()" title="Generar facturas pendientes">
            <i class="bi bi-lightning-charge me-2"></i>
            Generar Facturas
          </button>
        </div>
      </div>
    </div>
    
    <!-- Cuadro 2: Tabla -->
    <div class="inner-container" id="cuadro2">
      <div class="debt-table-container">
        <!-- Header de la tabla -->
        <div class="table-header">
          <div class="header-cell col-status">ESTADO</div>
          <div class="header-cell col-number">NÚMERO</div>
          <div class="header-cell col-client">CLIENTE</div>
          <div class="header-cell col-amount">MONTO</div>
          <div class="header-cell col-dates">F. EMISIÓN</div>
          <div class="header-cell col-dates">F. VENCIMIENTO</div>
          <div class="header-cell col-total">TOTAL</div>
        </div>
        
        <!-- Filas de datos -->
        <div class="table-row" *ngFor="let factura of facturas; trackBy: trackById" 
             [class.selected]="selectedFactura === factura"
             (click)="setSelectedFactura(factura)">
          <div class="row-cell col-status">
            <span class="status-badge-new" [ngClass]="{
              'status-paid': factura.estado === 'Pagada',
              'status-overdue': factura.estado === 'Vencida',
              'status-pending': factura.estado === 'Pendiente'
            }">{{ factura.estado.toUpperCase() }}</span>
          </div>
          <div class="row-cell col-number">{{ factura.numero }}</div>
          <div class="row-cell col-client">{{ factura.cliente }}</div>
          <div class="row-cell col-amount">{{ factura.total | number:'1.0-0' }}</div>
          <div class="row-cell col-dates">{{ factura.fechaEmision }}</div>
          <div class="row-cell col-dates">{{ factura.fechaVencimiento }}</div>
          <div class="row-cell col-total total-amount">${{ factura.total | number:'1.2-2' }}</div>
        </div>
        
        <div class="table-row no-data" *ngIf="facturas.length === 0">
          <div class="row-cell" style="grid-column: 1 / -1; text-align: center;">No hay facturas disponibles</div>
        </div>
      </div>
    </div>
  </div>
</div>