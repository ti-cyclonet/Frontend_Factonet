/* ------------------------------------------------ */
/* 1. Estilo General del Contenedor del Header */
/* ------------------------------------------------ */

.header-wrapper {
    background-color: var(--header-background-color, #2782d8bb); 
    color: rgb(0, 0, 0); 
    /* La sombra del wrapper es sutil, la principal la lleva el marco */
    box-shadow: 0 4px 6px rgba(0, 0, 0, 0.2);
    display: flex;
    flex-direction: column; 
    /* Aseguramos que el wrapper no tenga padding horizontal, solo vertical si es necesario */
    padding: 0; 
    padding-left: 0; /* Aseguramos que no haya padding horizontal */
    padding-right: 0;
}

/* ------------------------------------------------ */
/* 1.1 ESTILO DEL MARCO SUPERIOR (FLOTANTE Y CENTRADO) */
/* ------------------------------------------------ */

/* --- 1. ESTILOS BASE (APLICAN A PANTALLAS GRANDES Y POR DEFECTO) --- */
.header-container {
    border: 2px solid rgb(0, 0, 0); 
    border-radius: 8px; 
    
    /* MÁRGENES Y ANCHO CONSTANTES CODIGO RESPONSIVE*/
    /* El ancho es el 100% menos 30px (15px a la izquierda + 15px a la derecha) */
    width: calc(100% - 30px) !important; 
    margin: 10px auto !important; /* Mantiene el centrado vertical y horizontal */
    
    /* MÁXIMO ANCHO: Si el margen fijo causa un scroll horizontal en pantallas gigantes, 
       ajusta este valor para que el margen fijo se respete. */
    max-width: 1500px !important; 
    
    /* Padding interno */
    padding: 15px 20px; 
    box-sizing: border-box; /* CLAVE: Incluye el padding y border dentro del ancho */
}

/* --- 2. REGLA CLAVE PARA PANTALLAS PEQUEÑAS (Mobile: 600px o menos) --- */
/* Esta regla sobrescribe el width: 85% de la regla base SÓLO en móviles */
@media (max-width: 600px) {
    .header-container {
        /* Fuerza el margen de 15px a cada lado en móviles (100% - 30px) */
        width: calc(100% - 30px); 
        
        /* Mantenemos el centrado (margin: auto) */
        margin: 10px auto; 
        
        /* Aseguramos que el contenido y borde se cuenten dentro del calc() */
        box-sizing: border-box; 
        
        padding: 10px 10px; /* Reducimos el padding interno */
    }
    
    /* Aseguramos que el main-navbar también respete el margen de la ventana */
    .main-navbar {
        padding-left: 15px; /* Damos un pequeño margen a la barra de navegación */
        padding-right: 15px;
    }
}
/* ------------------------------------------------ */
/* 2. Estilos para la Nueva Barra de Navegación (.main-navbar) */
/* ------------------------------------------------ */

.main-navbar {
    background-color: var(--navbar-background-color, #2782d8bb); 
    padding: 0 20px; 
    height: 35px; /* Altura aumentada */
    /* Agregamos margin-bottom para separarlo del marco superior si es necesario */
    margin-bottom: 6px; 
    align-items: center;
}

/* ------------------------------------------------ */
/* 3. ESTILOS INTERNOS (PARA MANTENER LA ALTURA BAJA) */
/* ------------------------------------------------ */

.logo-img {
    height: 65px; /* Altura del logo */
    width: auto;
    display: block; 
}

/* El padding de .btn es clave para mantener la altura baja */
.header-container .btn {
    padding: 2px 3px !important; 
    line-height: 1; 
}

/* ================================================ */
/* 4. ESTILOS PARA EL ÁREA DE USUARIO Y PERFIL */
/* ================================================ */

/* Contenedor principal del área de usuario */
.user-info-frame {
    /* Nos aseguramos de que todos los elementos (info, imagen, íconos) estén alineados */
    align-items: center; 
}

/* Estilos para el nombre de usuario (la línea de arriba) */
.user-info-frame .user-name {
    font-weight: 500; /* Más destacado */
    color: #fff; /* Color claro para contrastar con el fondo azul */
    line-height: 1.1; /* Reducimos el espaciado entre líneas */
    text-transform: uppercase; /* Para que coincida con el nombre de usuario de la imagen */
}

/* Estilos para el detalle (rol | email - la línea de abajo) */
.user-info-frame .user-detail {
    font-size: 0.75rem; /* Pequeño para que quepa */
    color: #000; /* Color oscuro para el detalle */
    line-height: 1.1; /* Reducimos el espaciado entre líneas */
}

/* Estilos para el enlace que contiene la imagen de perfil */
.profile-toggle {
    display: block;
    cursor: pointer;
    /* QUITAMOS el estilo de botón por defecto para la imagen de perfil */
    padding: 0 !important; 
    border: none !important;
    background: transparent !important;
}

/* Estilos para la imagen de perfil en sí */
.user-img {
    /* Tamaño fijo para la imagen */
    width: 40px; 
    height: 40px;
    /* La hacemos un círculo */
    border-radius: 55%; 
    /* Añadimos un pequeño borde para destacarla */
    border: 2px solid #fff; 
    /* Aseguramos que la imagen no se distorsione */
    object-fit: cover; 
    /* Agregamos una transición para un efecto hover suave */
    transition: transform 0.2s, box-shadow 0.2s;
}

/* Efecto visual al pasar el ratón sobre la imagen */
.profile-toggle:hover .user-img {
    transform: scale(1.05);
    box-shadow: 0 0 5px rgba(255, 255, 255, 0.8);
}

/* Estilos para el menú desplegable del perfil */
.dropdown-menu-end {
    /* Asegura que el dropdown se alinee correctamente a la derecha */
    right: 0 !important;
    left: auto !important;
}

/* ------------------------------------------------ */
/* 4. ESTILOS PARA LOS ÍCONOS DE HERRAMIENTAS EN LA BARRA DE NAVEGACIÓN */
/* ------------------------------------------------ */

.nav-tools {
    /* Mantiene los íconos juntos */
    gap: 10px; 
}

.nav-tool-btn {
    /* Estilos base para el ícono de Calculadora y Configuración */
    display: flex;
    align-items: center;
    justify-content: center;
    width: 40px; /* Ancho del botón */
    height: 40px; /* Altura del botón */
    border-radius: 5px;
    cursor: pointer;
    color: #000; /* Color del ícono */
    transition: background-color 0.2s, color 0.2s;
    text-decoration: none; /* Quitamos el subrayado de los enlaces */
}

.nav-tool-btn:hover {
    background-color: var(--hover-color, #ffffff);
    color: var(--primary-color, #000000); /* Nuevo color al pasar el ratón */
}

.nav-tool-btn svg {
    /* Aseguramos que el SVG llene el espacio del botón */
    fill: currentColor;
    width: 30px; 
    height: 30px;
}

/* Ocultar la información de usuario en móviles pequeños para ahorrar espacio */
@media (max-width: 576px) {
    .user-info-frame .text-end {
        /* Oculta el nombre y correo para dejar solo la imagen y los íconos */
        display: none !important; 
    }
    .profile-toggle {
        /* Eliminamos el margen si ocultamos la información */
        margin-right: 0; 
    }
}


/* ================================================ */
/* 5. NUEVOS ESTILOS PARA EL TOOLBOX DESLIZABLE */
/* ================================================ */

/* Contenedor principal de la caja de herramientas flotante */
.floating-toolbox {
    /* Lo posicionamos absolutamente con respecto a .tool-dropdown (position-relative) */
    position: absolute;
    top: 50%; /* Alineado verticalmente con el centro del botón del engranaje */
    right: 45px; /* Empieza 45px a la izquierda del botón del engranaje */
    transform: translateY(-50%) translateX(100%); /* Lo saca completamente a la derecha (oculto) y centra verticalmente */
    
    /* Efecto de grupo de botones */
    display: flex;
    flex-direction: row; /* Botones en línea */
    gap: 8px; /* Espacio entre botones */

    /* Fondo transparente, borde sutil */
    background-color: rgba(255, 255, 255, 0.1); 
    border-radius: 8px;
    padding: 5px;
    
    /* TRUCO DE TRANSICIÓN: Aquí controlamos el deslizamiento */
    opacity: 0; /* Inicialmente invisible */
    transition: transform 0.3s ease-out, opacity 0.2s ease-out;
    pointer-events: none; /* Deshabilitado para clics cuando está oculto */
    
    /* Asegura que esté por encima de la barra de navegación pero por debajo del dropdown del perfil */
    z-index: 99; 
    
    /* Para móviles, asegúrate de que no se superponga o cause scroll */
    @media (max-width: 480px) {
        /* Podrías necesitar ajustar el right para evitar desbordamiento */
        right: 40px; 
        /* Mantén el resto igual */
    }
}

/* Estado VISIBLE: Aplicamos la transición de deslizamiento */
.floating-toolbox.show {
    /* Lo desliza a su posición final (0% de desplazamiento horizontal) */
    transform: translateY(-50%) translateX(0); 
    opacity: 1; /* Visible */
    pointer-events: auto; /* Habilitado para clics cuando está visible */
}

/* Estilo de los botones individuales dentro del toolbox */
.toolbox-btn {
    /* Estilos base */
    background-color: rgba(0, 0, 0, 0); 
    color: #000000;
    border: 1px solid rgba(255, 255, 255, 0);
    border-radius: 5px;
    padding: 6px 10px;
    font-size: 0.85rem;
    font-weight: 500;
    cursor: pointer;
    white-space: nowrap; /* Evita que el texto se rompa */
    transition: background-color 0.2s, transform 0.1s;
}

.toolbox-btn:hover {
    background-color: var(--primary-color, #ffffff);
    transform: translateY(-1px);
    box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2);
}


/* ------------------------------------------------ */
/* 6. Estilos de Navegación (no modificados) */
/* ------------------------------------------------ */

.nav-link {
    color: rgb(0, 0, 0);
    font-weight: 500;
    text-transform: uppercase;
    padding: 2px 8px; 
    margin: 0 5px; 
    border-radius: 10px; /* Unificado el border-radius */
    transition: background-color 0.2s, color 0.2s;
    text-decoration: none; 
    display: flex; 
    align-items: center;
}

.nav-link:hover {
    background-color: var(--hover-color, #faf8f8); 
    color: #000000;
}

.nav-link.active {
    background-color: var(--primary-color, #000000); 
    color: white;
    font-weight: 700;
    border-bottom: none; 
    box-shadow: 0 -2px 5px rgba(15, 100, 212, 0.3); 
}

.nav-link svg {
    margin-right: 5px;
    fill: currentColor; 
}